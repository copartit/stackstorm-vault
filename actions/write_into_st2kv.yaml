---
name: write_into_st2kv
runner_type: python-script
description: >-
  Write a key/value to Vault then save the output to st2kv.
  In workflows, use <% st2kv(system.<st2kv_key>, decrypt=>true) %> to retrieve the output safely.
enabled: true
entry_point: write_into_st2kv.py
parameters:
  st2kv_key:
    required: True
    type: string
    description: "Key to save in the ST2 datastore"
    position: 0
  st2kv_ttl:
    type: integer
    description: "Optional TTL for the value in the ST2 datastore"
    required: False
    position: 1
  path:
    type: string
    description: "Path to the Vault secrets"
    required: true
    position: 2
  values:
    type: string
    description: 'Keys and values to write in Vault ({"key":"value", "key2": "value2"})'
    required: true
    position: 3
  profile:
    type: string
    description: "Name of connection profile (in pack config) to use to connect to vault. Default profile defined in pack config."
    required: false
